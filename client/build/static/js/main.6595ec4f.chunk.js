(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{39:function(e,t){e.exports="data:image/png;base64,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"},41:function(e,t,a){e.exports=a.p+"static/media/diamond.eaa9cf22.png"},42:function(e,t,a){e.exports=a(72)},71:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(36),o=a.n(r),l=a(3),s=a(4),i=a(19),m="http://localhost:8000",u=function(){return"undefined"!=typeof window&&(!!localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt")))},d=function(e){var t=e.component,a=Object(i.a)(e,["component"]);return c.a.createElement(s.b,Object.assign({},a,{render:function(e){return u()&&1===u().user.role?c.a.createElement(t,e):c.a.createElement(s.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))},p=function(e){var t=e.component,a=Object(i.a)(e,["component"]);return c.a.createElement(s.b,Object.assign({},a,{render:function(e){return u()?c.a.createElement(t,e):c.a.createElement(s.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))},A=a(6),f=a(38),b=a(40),h=a(39),E=a.n(h),N=function(){var e=u().user._id;return c.a.createElement("div",null,c.a.createElement(l.b,{className:"nav-link left-link",to:"/new-post/".concat(e)},"Write A Post"))},g=Object(s.g)((function(e){var t=e.history,a=(e.match,Object(n.useState)(!1)),r=Object(A.a)(a,2),o=r[0],s=r[1];return c.a.createElement("ul",{className:"navbar"},c.a.createElement("li",null,c.a.createElement("a",{className:"navbar-brand",href:"/"},c.a.createElement("img",{className:"logo",src:E.a,alt:"Logo",width:"70px",height:"70px"}))),c.a.createElement("span",{className:"menu-icon",onClick:function(){return s(!o)}},c.a.createElement(f.a,{size:"lg",icon:b.a})),c.a.createElement("div",{className:"nav-links ".concat(o?"open":"")},u()&&c.a.createElement("li",{className:"nav-item"},c.a.createElement(l.b,{className:"nav-link left-link",to:"/dashboard"},"Dashboard")),u()&&c.a.createElement("li",{className:"nav-item"},c.a.createElement(N,null)),!u()&&c.a.createElement(n.Fragment,null,c.a.createElement("li",{className:"nav-item"},c.a.createElement(l.b,{className:"nav-link",to:"/signin"},"Sign In")),c.a.createElement("li",{className:"nav-item"},c.a.createElement(l.b,{className:"nav-link",to:"/signup"},"Sign Up"))),u()&&1===u().user.role&&c.a.createElement("li",{className:"nav-item"},c.a.createElement(l.b,{className:"nav-link left-link",to:"/admin/dashboard"},"Dashboard")),u()&&c.a.createElement("li",{className:"nav-item"},c.a.createElement("span",{className:"nav-link",onClick:function(){return function(e){if("undefined"!==typeof window)return localStorage.removeItem("jwt"),e(),fetch("".concat(m,"/signout"),{method:"GET"}).then((function(e){console.log("signout",e)})).catch((function(e){return console.log(e)}))}((function(){t.push("/")}))}},"Sign Out"))))})),v=a(14),y=a(15),O=a(20),j=a(18),k=a(16),w=a.n(k),J=a(17),S=a.n(J),Z=function(e){Object(O.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(v.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={title:"",body:"",date:"",posts:[]},e.componentDidMount=function(){e.getPosts()},e.getPosts=function(){w.a.get("".concat(m)).then((function(t){var a=t.data;e.setState({posts:a})})).catch((function(){console.log("Error retrieving data")}))},e.displayPosts=function(e){return e.length?e.map((function(e,t){return c.a.createElement(l.b,{className:"card",to:"/".concat(e.slug,"/").concat(e._id)},c.a.createElement("div",{key:t},c.a.createElement("h3",{className:"posts-title"},e.title),c.a.createElement("p",{className:"posts-body"},e&&e.body&&e.body.substring(0,50),"..."),c.a.createElement("span",{className:"author-date"},c.a.createElement("p",{className:"post-author"},e&&e.author?e.author.name:""),c.a.createElement("p",{className:"post-date"},c.a.createElement(S.a,{className:"post-date",format:"D MMM YYYY"},e.date)))))})):null},e}return Object(y.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"grid"},this.displayPosts(this.state.posts))}}]),a}(c.a.Component),x=function(e){e.props,e.user;return c.a.createElement("div",null,c.a.createElement(g,null),c.a.createElement(Z,null))},G=a(11),P=a(1),B=function(){var e=Object(n.useState)({email:"",password:"",error:"",loading:!1,redirectToReferrer:!1}),t=Object(A.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),i=Object(A.a)(o,2),d=i[0],p=i[1],f=a.email,b=a.password,h=a.loading,E=a.error,N=a.redirectToReferrer,v=u().user,y=function(e){return function(t){r(Object(P.a)(Object(P.a)({},a),{},Object(G.a)({error:!1},e,t.target.value)))}},O=function(e){e.preventDefault(),r(Object(P.a)(Object(P.a)({},a),{},{error:!1,loading:!0})),function(e){return fetch("".concat(m,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}({email:f,password:b}).then((function(e){e.error?r(Object(P.a)(Object(P.a)({},a),{},{error:e.error,loading:!1})):function(e,t){"undefined"!==typeof window&&(localStorage.setItem("jwt",JSON.stringify(e)),t())}(e,(function(){r(Object(P.a)(Object(P.a)({},a),{},{redirectToReferrer:!0}))}))})).catch((function(e){console.error("+++ exc signin: ",e),r(Object(P.a)(Object(P.a)({},a),{},{error:e.message,loading:!1}))}))},j=function(){p(!d)},k=function(){return c.a.createElement("div",{className:"auth-error",style:{display:E?"":"none"}},E)},w=function(){return h&&c.a.createElement("div",{className:"loader"})};return c.a.createElement("div",null,c.a.createElement(g,null),c.a.createElement(c.a.Fragment,null,c.a.createElement("form",{className:"form-container"},c.a.createElement("div",null,c.a.createElement("h2",{className:"form-header"},"Sign In"),c.a.createElement("div",{className:"form-group"},c.a.createElement("span",{className:"input-icon"},c.a.createElement("i",{"aria-hidden":"true",className:"user circle icon"})),c.a.createElement("input",{onChange:y("email"),type:"email",placeholder:"Email",className:"form-input",value:f})),c.a.createElement("div",{className:"form-group"},c.a.createElement("span",{className:"input-icon"},c.a.createElement("i",{"aria-hidden":"true",className:"lock icon"})),c.a.createElement("input",{placeholder:"Password",onChange:y("password"),type:d?"text":"password",className:"form-input",value:b}),c.a.createElement("i",{onClick:j,"aria-hidden":"true",className:"eye icon"})),c.a.createElement("button",{onClick:O,className:"submit-auth"},"Submit"),c.a.createElement("p",{className:"no-account"},"Don't have an account yet? ",c.a.createElement(l.b,{className:"signup-link",to:"/signup"},"Sign Up"))),w(),k())),N?v&&1===v.role?c.a.createElement(s.a,{to:"/admin/dashboard"}):c.a.createElement(s.a,{to:"/"}):u()?c.a.createElement(s.a,{to:"/"}):void 0)},q=function(){var e=Object(n.useState)({name:"",email:"",password:"",error:"",success:!1}),t=Object(A.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),s=Object(A.a)(o,2),i=s[0],u=s[1],d=a.name,p=a.email,f=a.password,b=a.success,h=a.error,E=function(e){return function(t){r(Object(P.a)(Object(P.a)({},a),{},Object(G.a)({error:!1},e,t.target.value)))}},N=function(e){var t;e.preventDefault(),r(Object(P.a)(Object(P.a)({},a),{},{error:!1})),(t={name:d,email:p,password:f},fetch("".concat(m,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))).then((function(e){console.log("data: ",e),e.error?r(Object(P.a)(Object(P.a)({},a),{},{error:e.error,success:!1})):r(Object(P.a)(Object(P.a)({},a),{},{name:"",email:"",password:"",error:"",success:!0}))})).catch((function(e){console.error("exc: ",e),r(Object(P.a)(Object(P.a)({},a),{},{error:e.message,success:!1}))}))},v=function(){u(!i)},y=function(){return c.a.createElement("div",{className:"auth-error",style:{display:h?"":"none"}},h)},O=function(){return c.a.createElement("div",{className:"success",style:{display:b?"":"none"}},"New account is created. Please ",c.a.createElement(l.b,{className:"success-link",to:"/signin"},"Signin"))};return c.a.createElement("div",null,c.a.createElement(g,null),c.a.createElement("form",{className:"form-container"},c.a.createElement("div",null,c.a.createElement("div",{className:"form-group"},c.a.createElement("h2",{className:"form-header signup_header"},"Sign Up"),c.a.createElement("span",{className:"input-icon"},c.a.createElement("i",{"aria-hidden":"true",className:"user circle icon"})),c.a.createElement("input",{onChange:E("name"),type:"text",className:"form-input",placeholder:"Name",value:d})),c.a.createElement("div",{className:"form-group"},c.a.createElement("span",{className:"input-icon"},c.a.createElement("i",{"aria-hidden":"true",className:"mail icon"})),c.a.createElement("input",{onChange:E("email"),type:"email",placeholder:"Email",className:"form-input",value:p})),c.a.createElement("div",{className:"form-group"},c.a.createElement("span",{className:"input-icon"},c.a.createElement("i",{"aria-hidden":"true",className:"lock icon"})),c.a.createElement("input",{onChange:E("password"),type:i?"text":"password",placeholder:"Password",className:"form-input",value:f}),c.a.createElement("i",{onClick:v,"aria-hidden":"true",className:"eye icon"})),c.a.createElement("button",{onClick:N,className:"submit-auth"},"Submit"),c.a.createElement("p",{className:"account"},"Already have an account? ",c.a.createElement(l.b,{className:"signin-link",to:"/signin"},"Sign In"))),y(),O()))},C=function(e,t){return fetch("".concat(m,"/").concat(e,"/").concat(t),{method:"GET",Accept:"application/json","Content-Type":"application/json"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},M=function(e){var t=e.match,a=Object(n.useState)({title:"",body:"",error:"",updatedPost:""}),r=Object(A.a)(a,2),o=r[0],l=r[1],s=Object(n.useState)({title:o.title,body:o.body}),i=Object(A.a)(s,2),d=i[0],p=i[1],f=u().token,b=o.title,h=o.body,E=o.error,N=o.updatedPost;Object(n.useEffect)((function(){var e=t.params.id;!function(e,t){C(e,t).then((function(e){e.error?l(Object(P.a)(Object(P.a)({},o),{},{error:e.error})):(l(Object(P.a)(Object(P.a)({},o),{},{title:e.title,body:e.body})),p({title:o.title,body:o.body}))}))}(t.params.slug,e)}),[]),Object(n.useEffect)((function(){p(Object(P.a)({},o))}),[o.title,o.body]);var v=function(e){return function(t){l(Object(P.a)(Object(P.a)({},o),{},Object(G.a)({},e,t.target.value)))}},y=function(e){e.preventDefault(),l(Object(P.a)(Object(P.a)({},o),{},{error:""})),p({title:o.title,body:o.body}),function(e,t,a,n){return fetch("".concat(m,"/").concat(e,"/").concat(t,"/edit"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(n)}).then((function(e){return e.json(n)})).catch((function(e){return console.log(e)}))}(t.params.userId,t.params.id,f,d).then((function(e){e.error?l(Object(P.a)(Object(P.a)({},o),{},{error:e.error})):(l(Object(P.a)(Object(P.a)({},o),{},{title:e.title,body:e.body,updatedPost:e.title,error:!1})),console.log(d),console.log(e))}))};return c.a.createElement(c.a.Fragment,null,c.a.createElement(g,null),c.a.createElement("div",{className:"newpost_container"},c.a.createElement("div",{style:{display:E?"":"none"}},E),c.a.createElement("form",{className:"newpost_form",onSubmit:y},c.a.createElement("div",{className:"form-group"},c.a.createElement("input",{onChange:v("title"),type:"text",name:"title",className:"newpost_field newpost_title",value:b})),c.a.createElement("div",{className:"form-group"},c.a.createElement("textarea",{onChange:v("body"),className:"newpost_field newpost_textarea",value:h,name:"body"})),c.a.createElement("button",{className:"btn publish-post-btn",type:"submit"},"Publish")),c.a.createElement("div",{className:"success-post update-success",style:{display:N?"":"none"}},c.a.createElement("h2",null,"Your post has been successfully updated!"))))},D=a(41),I=a.n(D),Y=function(e){var t=Object(n.useState)({}),a=Object(A.a)(t,2),r=a[0],o=a[1],l=Object(n.useState)(!1),s=Object(A.a)(l,2),i=s[0],d=s[1],p=e.match.params.id;Object(n.useEffect)((function(){!function(e,t){C(e,t).then((function(e){i?(console.log(e.error),d(e.error)):(o(e),console.log(e))}))}(e.match.params.slug,p)}),[e]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(g,null),c.a.createElement("div",{className:"post-container"},c.a.createElement("h3",{className:"post-title"},r.title),c.a.createElement("div",{className:"author-date"},c.a.createElement("p",{className:"post-author"},r.author?r.author.name:""),c.a.createElement("p",{className:"post-date"},c.a.createElement(S.a,{className:"post-date",format:"D MMM YYYY"},r.date))),c.a.createElement("p",{className:"post-body"},r.body),c.a.createElement("div",{className:"diamonds"},function(){var e=u().user;return c.a.createElement("span",{className:"diamond"},!e||r.author&&r.author.id===e._id?"":c.a.createElement("img",{className:"add-diamond",src:I.a,onClick:function(){!function(e){var t=u().token,a=u().user._id;fetch("".concat(m,"/diamond/").concat(a,"/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({id:e})}).then((function(e){var t=u().user._id,a=Object(P.a)({},r);a.diamonds.push(t),o(a)})).catch((function(e){console.log(e)}))}(p)},width:"22px",height:"22px",alt:"Diamond icon"}))}(),c.a.createElement("p",{className:"diamond-length"},r.diamonds&&r.diamonds.length," ",r.diamonds&&1===r.diamonds.length?"Diamond":"Diamonds"," "))))},Q=function(){return c.a.createElement("div",null,c.a.createElement(g,null),c.a.createElement("p",null,"This is the admin dashboard"))},T=function(e){Object(O.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(v.a)(this,a),(n=t.call(this,e)).changeHandler=function(e){n.setState(Object(G.a)({},e.target.name,e.target.value))},n.submitHandler=function(e){e.preventDefault();var t=u().user._id;w()({url:"".concat(m,"/new-post/").concat(t),method:"POST",data:n.state}).then((function(e){return n.setState({createdPost:n.state.title}),e})).catch((function(e){n.state.title&&n.state.body||n.setState({error:"This post must contain a title and a body."}),console.log(e)}))},n.showSuccess=function(){var e=n.state.createdPost;return c.a.createElement("div",{className:"success-post",style:{display:e?"":"none"}},c.a.createElement("h2",null,"Your post has been successfully published!"))},n.showError=function(){var e=n.state.error;return c.a.createElement("div",{className:"post-error",style:{display:e?"":"none"}},c.a.createElement("h2",null,"".concat(e)))},n.state={title:"",body:"",createdPost:"",error:""},n}return Object(y.a)(a,[{key:"render",value:function(){var e=this.state,t=e.title,a=e.body;return c.a.createElement(c.a.Fragment,null,c.a.createElement(g,null),c.a.createElement("div",{className:"newpost_container"},c.a.createElement("form",{className:"newpost_form",onSubmit:this.submitHandler},c.a.createElement("div",{className:"form-group"},c.a.createElement("input",{type:"text",placeholder:"Title",name:"title",className:"newpost_field newpost_title",onChange:this.changeHandler,value:t})),c.a.createElement("div",{className:"form-group"},c.a.createElement("textarea",{placeholder:"Post Content",name:"body",className:"newpost_field newpost_textarea",onChange:this.changeHandler,value:a})),c.a.createElement("button",{className:"btn publish-post-btn",type:"submit"},"Publish"),this.showSuccess(),this.showError())))}}]),a}(c.a.Component),V=function(e){e.history,e.match;var t=Object(n.useState)([]),a=Object(A.a)(t,2),r=a[0],o=a[1],s=u().user._id,i=u().token,d=function(e,t){(function(e,t){return fetch("".concat(m,"/my/posts/").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(e,t).then((function(e){var t=e.posts;o(t)}))},p=function(e){(function(e,t,a){return fetch("".concat(m,"/post/").concat(e,"/").concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(e,s,i).then((function(e){e.error?console.log(e.error):window.confirm("Are you sure you want to permanently delete this post?")&&d(s,i)}))};Object(n.useEffect)((function(){d(s,i)}),[]);return c.a.createElement("div",null,function(e){return e.length?e.map((function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"mypost"},c.a.createElement(l.b,{className:"mypost_title",to:"/".concat(e.slug,"/").concat(e._id)},c.a.createElement("h2",{className:"mypost_title title1"},e.title)),c.a.createElement(l.b,{className:"mypost_btn edit_btn",to:"/".concat(s,"/").concat(e._id,"/edit")},"Edit"),e&&u()?c.a.createElement("span",{className:"mypost_btn delete_btn",onClick:function(){return p(e._id)}},"Delete"):""),c.a.createElement("hr",{className:"hr"}))})):c.a.createElement("div",{className:"no-posts"},c.a.createElement("p",null,"You haven't written any posts yet."),c.a.createElement(l.b,{className:"no-posts no-posts-link",to:"new-post/".concat(s)}," Write your first post!"))}(r))},L=function(){var e=u().user.name;return c.a.createElement("div",null,c.a.createElement(g,null),c.a.createElement("h1",{className:"username"},"Hi ",e,"!"),c.a.createElement(V,null))},W=function(){return c.a.createElement(l.a,null,c.a.createElement(s.d,null,c.a.createElement(s.b,{path:"/",exact:!0,component:x}),c.a.createElement(s.b,{path:"/signup",exact:!0,component:q}),c.a.createElement(s.b,{path:"/signin",exact:!0,component:B}),c.a.createElement(p,{path:"/new-post/:userId",exact:!0,component:T}),c.a.createElement(s.b,{path:"/:slug/:id",exact:!0,component:Y}),c.a.createElement(s.b,{path:"/my/posts/:userId",exact:!0,component:V}),c.a.createElement(p,{exact:!0,path:"/:userId/:id/edit",component:M}),c.a.createElement(p,{path:"/dashboard",exact:!0,component:L}),c.a.createElement(d,{path:"/admin/dashboard",exact:!0,component:Q})))};a(71);o.a.render(c.a.createElement(W,null),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.6595ec4f.chunk.js.map